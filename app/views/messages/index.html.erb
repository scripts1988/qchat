<h2>Inbox</h2>

<% if @messages.empty? %>
  <div class="alert alert-danger">Empty message box</div>
<% end %>

<%= link_to 'New message', new_message_path, class: 'btn btn-secondary' %>
<br>
<br>

<table class="table table-striped">
  <thead class="thead thead-default">
    <tr>
      <th>Sender</th>
      <th>Subject</th>
      <th>Received</th>
    </tr>
  </thead>

  <tbody>
    <% @messages.each do |item| %>
      <tr>
        <!-- If status equal 1, it means this message is read -->
        <% if item.status == 1 %>
          <td><%= item.get_sender %></td>
          <td><%= link_to item.subject, message_path(id: item.id) %></td>
          <td><%= item.created_at.localtime %></td>
        <% else %>
          <td><strong><%= item.get_sender %></strong></td>
          <td><strong><%= link_to item.subject, message_path(id: item.id) %></strong></td>
          <td><strong><%= item.created_at.localtime %></strong></td>
        <% end %>
      </tr>
    <% end %>
  </tbody>
</table>
